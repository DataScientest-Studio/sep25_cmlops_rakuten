# Rakuten MLOps - Environment Configuration
# Copy this file to .env and update with your values

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=rakuten_db
POSTGRES_USER=rakuten_user
POSTGRES_PASSWORD=rakuten_pass

# ==============================================================================
# MINIO (S3-COMPATIBLE STORAGE)
# ==============================================================================
MINIO_ROOT_USER=minio_admin
MINIO_ROOT_PASSWORD=minio_password

# ==============================================================================
# MLFLOW CONFIGURATION
# ==============================================================================
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_S3_ENDPOINT_URL=http://localhost:9000
AWS_ACCESS_KEY_ID=minio_admin
AWS_SECRET_ACCESS_KEY=minio_password

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_URL=http://localhost:8000
MODEL_NAME=rakuten_classifier
MODEL_STAGE=Production
MODEL_RELOAD_INTERVAL=300
INFERENCE_LOG_PATH=/app/data/monitoring/inference_log.csv

# ==============================================================================
# MONITORING CONFIGURATION
# ==============================================================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==============================================================================
# AIRFLOW CONFIGURATION
# ==============================================================================
AIRFLOW_USER=admin
AIRFLOW_PASSWORD=admin
AIRFLOW_PORT=8080
AIRFLOW_FERNET_KEY=46BKJoQYlPPOexq0OhDZnIlNepKFf87WFwLbfzqDDho=
AIRFLOW_SECRET_KEY=supersecretkey
AIRFLOW_SCHEDULE=5 7 * * 1

# ==============================================================================
# AUTO-TRAINING & PROMOTION
# ==============================================================================
AUTO_PROMOTION_ENABLED=true
MIN_F1_THRESHOLD=0.75
PROMOTION_METRIC=weighted_f1

# ==============================================================================
# DRIFT DETECTION
# ==============================================================================
DRIFT_WARNING_THRESHOLD=0.1
DRIFT_ALERT_THRESHOLD=0.2
DRIFT_CRITICAL_THRESHOLD=0.3
DRIFT_CHECK_SCHEDULE=0 1 * * *

# ==============================================================================
# STREAMLIT CONFIGURATION
# ==============================================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost
